# Reliable Load Test
test: Reliable Load Test
description: Load test with reliability focus

setup:
  accounts:
    deployer:
      privateKey: env:PRIVATE_KEY
    sender: 0.1 ETH
    receiver: 0.1 ETH

scenario:
  - log: "Starting reliable load test"

  # Initial funding
  - transfer: deployer -> sender, 2 ETH
  - transfer: deployer -> receiver, 0.5 ETH

  # Phase 1: Steady load
  - log: "Phase 1 - Steady load"
  - transfer: sender -> receiver, 0.01 ETH
  - wait: 1s
  - transfer: receiver -> sender, 0.005 ETH
  - wait: 1s
  - transfer: sender -> receiver, 0.01 ETH
  - wait: 1s
  - transfer: receiver -> sender, 0.005 ETH

  # Phase 2: Increased load
  - log: "Phase 2 - Increased load"
  - transfer: sender -> receiver, 0.02 ETH
  - transfer: sender -> receiver, 0.02 ETH
  - transfer: receiver -> sender, 0.01 ETH
  - transfer: receiver -> sender, 0.01 ETH

  # Phase 3: Verification
  - log: "Phase 3 - Verification"
  - transfer: sender -> deployer, 0.1 ETH
  - transfer: receiver -> deployer, 0.1 ETH

  - log: "Reliable load test completed"