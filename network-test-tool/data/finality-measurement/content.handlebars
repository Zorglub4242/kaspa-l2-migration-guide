<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Finality Measurement Report</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 10px; padding: 40px; }
        h1 { color: #2c3e50; border-bottom: 3px solid #9b59b6; padding-bottom: 10px; margin-bottom: 20px; }
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0; }
        .metric-card { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 20px; border-radius: 10px; text-align: center; }
        .metric-value { font-size: 32px; font-weight: bold; color: #2c3e50; }
        .metric-label { color: #7f8c8d; font-size: 14px; text-transform: uppercase; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th { background: #9b59b6; color: white; padding: 12px; }
        td { padding: 10px; border-bottom: 1px solid #ddd; }
        .finality-chart { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .mev-analysis { background: #fff3cd; padding: 20px; border-radius: 8px; border-left: 4px solid #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚è±Ô∏è Finality Measurement Report</h1>
        <p style="color: #7f8c8d;">Generated: {{formatTime timestamp}} | Networks: {{networks.length}}</p>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">{{avgFinality}}s</div>
                <div class="metric-label">Average Finality</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">{{minFinality}}s</div>
                <div class="metric-label">Fastest Finality</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">{{maxFinality}}s</div>
                <div class="metric-label">Slowest Finality</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">{{mevOpportunities}}</div>
                <div class="metric-label">MEV Opportunities</div>
            </div>
        </div>

        <h2>üìä Finality by Network</h2>
        <table>
            <thead>
                <tr>
                    <th>Network</th>
                    <th>Avg Finality</th>
                    <th>Min Finality</th>
                    <th>Max Finality</th>
                    <th>Std Deviation</th>
                    <th>Samples</th>
                </tr>
            </thead>
            <tbody>
                {{#each finalityData}}
                <tr>
                    <td>{{networkName chain_id}}</td>
                    <td>{{avgFinality}}s</td>
                    <td>{{minFinality}}s</td>
                    <td>{{maxFinality}}s</td>
                    <td>{{stdDev}}s</td>
                    <td>{{samples}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        <div class="finality-chart">
            <h2>üìà Finality Timeline</h2>
            <p style="color: #6c757d;">Block finality times over the measurement period</p>
            <!-- Chart visualization would go here -->
        </div>

        <div class="mev-analysis">
            <h2>üí∞ MEV Analysis</h2>
            <p>Maximum Extractable Value opportunities detected during finality window</p>
            <ul style="margin-top: 15px; padding-left: 20px;">
                <li>Arbitrage opportunities: {{mevStats.arbitrage}}</li>
                <li>Sandwich attacks possible: {{mevStats.sandwich}}</li>
                <li>Liquidation opportunities: {{mevStats.liquidation}}</li>
                <li>Average MEV profit potential: ${{mevStats.avgProfit}}</li>
            </ul>
        </div>

        <h2>üîç Key Insights</h2>
        <ul style="line-height: 2; padding-left: 20px;">
            <li>Layer 2 networks achieve sub-second finality consistently</li>
            <li>Finality times are stable with low standard deviation</li>
            <li>MEV opportunities are limited due to fast finality</li>
            <li>Network congestion has minimal impact on finality times</li>
        </ul>
    </div>
</body>
</html>